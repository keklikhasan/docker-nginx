server {
    listen 80;
    listen 8080;
    server_name admin-dev.odealapp.com;

    location ~ ^/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://odeal-adminv1:8080/$1$is_args$args;
    }
}

server {
    listen 80;
    listen 8080;
    server_name portal-dev.ode.al;

    location ~ ^/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://portalv1:8080/$1$is_args$args;
    }
}

server {
    listen 80;
    listen 8080;

    location ~ ^/aggregator/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://aggregatorv1:8080/$1$is_args$args;
    }

    location ~ ^/bank-report/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://bank-reportv1:8080/$1$is_args$args;
    }

    location ~ ^/bkm/v3/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://bkmv3:8080/$1$is_args$args;
    }

    location ~ ^/campaign/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://campaignv1:8080/$1$is_args$args;
    }

    location ~ ^/courrier/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://courrierv1:8080/$1$is_args$args;
    }

    location ~ ^/login/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://credentialv1:8080/$1$is_args$args;
    }

    location ~ ^/credential/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://credentialv1:8080/$1$is_args$args;
    }

    location ~ ^/efatura/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://efaturav1:8080/$1$is_args$args;
    }

    location ~ ^/fraud/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://fraudv1:8080/$1$is_args$args;
    }

    location ~ ^/kiva-service/v3/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://kiva-servicev3:8080/$1$is_args$args;
    }

    location ~ ^/mail/v3/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://mailv3:8080/$1$is_args$args;
    }

    location ~ ^/mobile/v4/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://mobilev4:8080/$1$is_args$args;
    }

    location ~ ^/nvi/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://nviv1:8080/$1$is_args$args;
    }

    location ~ ^/odeal-ftp/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://odeal-ftpv1:8080/$1$is_args$args;
    }

    location ~ ^/okc/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://okcv1:8080/$1$is_args$args;
    }

    location ~ ^/payback/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://paybackv1:8080/$1$is_args$args;
    }

    location ~ ^/paydir/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://mobilev4:8080/$1$is_args$args;
    }

    location ~ ^/paylim/v3/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://mobilev4:8080/$1$is_args$args;
    }

    location ~ ^/payment/v4/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://paymentv4:8080/$1$is_args$args;
    }

    location ~ ^/product/v4/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://productv4:8080/$1$is_args$args;
    }

    location ~ ^/recurring/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://mobilev4:8080/$1$is_args$args;
    }

    location ~ ^/rest/v5/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://restv5:8080/$1$is_args$args;
    }

    location ~ ^/sms/v3/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://mobilev4:8080/$1$is_args$args;
    }

    location ~ ^/subscription/v1/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://subscriptionv1:8080/$1$is_args$args;
    }

    location ~ ^/the/v3/(.+) {
        proxy_pass_header Server;
        proxy_set_header Host $http_host;
        proxy_redirect off;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Scheme $scheme;
        proxy_pass http://thev3:8080/$1$is_args$args;
    }
}